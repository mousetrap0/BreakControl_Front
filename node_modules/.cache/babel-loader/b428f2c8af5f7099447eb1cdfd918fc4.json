{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\bbs-main\\\\frontend\\\\src\\\\Components\\\\member\\\\Login.js\",\n    _s = $RefreshSig$();\n\n/* Î°úÍ∑∏Ïù∏ Ïª¥Ìè¨ÎÑåÌä∏ */\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { AuthContext } from \"../context/AuthProvider\";\nimport { HttpHeadersContext } from \"../context/HttpHeadersProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const {\n    auth,\n    setAuth\n  } = useContext(AuthContext);\n  const {\n    headers,\n    setHeaders\n  } = useContext(HttpHeadersContext);\n  const navigate = useNavigate();\n  const [id, setId] = useState(\"\");\n  const [pwd, setPwd] = useState(\"\");\n\n  const changeId = event => {\n    setId(event.target.value);\n  };\n\n  const changePwd = event => {\n    setPwd(event.target.value);\n  };\n\n  const login = async () => {\n    const req = {\n      id: id,\n      pwd: pwd\n    };\n    await axios.post(\"http://localhost:3000/user/login\", req).then(resp => {\n      console.log(\"[Login.js] login() success :D\");\n      console.log(resp.data);\n      alert(resp.data.id + \"Îãò, ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Î°úÍ∑∏Ïù∏ ÎêòÏóàÏäµÎãàÎã§ üîê\"); // JWT ÌÜ†ÌÅ∞ Ï†ÄÏû•\n\n      localStorage.setItem(\"bbs_access_token\", resp.data.jwt);\n      localStorage.setItem(\"id\", resp.data.id);\n      setAuth(resp.data.id); // ÏÇ¨Ïö©Ïûê Ïù∏Ï¶ù Ï†ïÎ≥¥(ÏïÑÏù¥Îîî Ï†ÄÏû•)\n\n      setHeaders({\n        \"Authorization\": `Bearer ${resp.data.jwt}`\n      }); // Ìó§Îçî Authorization ÌïÑÎìú Ï†ÄÏû•\n\n      navigate(\"/bbslist\");\n    }).catch(err => {\n      console.log(\"[Login.js] login() error :<\");\n      console.log(err);\n      alert(\"‚ö†Ô∏è \" + err.response.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"col-3\",\n            children: \"\\uC544\\uC774\\uB514\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: id,\n              onChange: changeId,\n              size: \"50px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: pwd,\n              onChange: changePwd,\n              size: \"50px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-1 d-flex justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        onClick: login,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-sign-in-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 67\n        }, this), \" \\uB85C\\uADF8\\uC778\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Login, \"Uqtj6f8GWtNCjCgESYxTtHzhy6w=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","axios","useState","useContext","useNavigate","AuthContext","HttpHeadersContext","Login","auth","setAuth","headers","setHeaders","navigate","id","setId","pwd","setPwd","changeId","event","target","value","changePwd","login","req","post","then","resp","console","log","data","alert","localStorage","setItem","jwt","catch","err","response"],"sources":["D:/workspace/bbs-main/frontend/src/Components/member/Login.js"],"sourcesContent":["/* Î°úÍ∑∏Ïù∏ Ïª¥Ìè¨ÎÑåÌä∏ */\n\nimport  React from \"react\";\nimport axios from \"axios\";\nimport { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { AuthContext } from \"../context/AuthProvider\";\nimport { HttpHeadersContext } from \"../context/HttpHeadersProvider\";\n\nfunction Login() {\n\n\tconst { auth, setAuth } = useContext(AuthContext);\n\tconst { headers, setHeaders } = useContext(HttpHeadersContext);\n\n\tconst navigate = useNavigate();\n\n\tconst [id, setId] = useState(\"\");\n\tconst [pwd, setPwd] = useState(\"\");\n\n\tconst changeId = (event) => {\n\t\tsetId(event.target.value);\n\t}\n\n\tconst changePwd = (event) => {\n\t\tsetPwd(event.target.value);\n\t}\n\n\tconst login = async () => {\n\n\t\tconst req = {\n\t\t\tid: id,\n\t\t\tpwd: pwd\n\t\t}\n\n\t\tawait axios.post(\"http://localhost:3000/user/login\", req)\n\t\t.then((resp) => {\n\t\t\tconsole.log(\"[Login.js] login() success :D\");\n\t\t\tconsole.log(resp.data);\n\n\t\t\t\talert(resp.data.id + \"Îãò, ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Î°úÍ∑∏Ïù∏ ÎêòÏóàÏäµÎãàÎã§ üîê\");\n\n\t\t\t\t// JWT ÌÜ†ÌÅ∞ Ï†ÄÏû•\n\t\t\t\tlocalStorage.setItem(\"bbs_access_token\", resp.data.jwt);\n\t\t\t\tlocalStorage.setItem(\"id\", resp.data.id);\n\n\t\t\t\tsetAuth(resp.data.id); // ÏÇ¨Ïö©Ïûê Ïù∏Ï¶ù Ï†ïÎ≥¥(ÏïÑÏù¥Îîî Ï†ÄÏû•)\n\t\t\t\tsetHeaders({\"Authorization\": `Bearer ${resp.data.jwt}`}); // Ìó§Îçî Authorization ÌïÑÎìú Ï†ÄÏû•\n\n\t\t\t\tnavigate(\"/bbslist\");\n\t\t\t\n\n\t\t}).catch((err) => {\n\t\t\tconsole.log(\"[Login.js] login() error :<\");\n\t\t\tconsole.log(err);\n\n\t\t\talert(\"‚ö†Ô∏è \" + err.response.data);\n\t\t});\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<table className=\"table\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"col-3\">ÏïÑÏù¥Îîî</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" value={id} onChange={changeId} size=\"50px\" />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>ÎπÑÎ∞ÄÎ≤àÌò∏</th>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"password\" value={pwd} onChange={changePwd} size=\"50px\" />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table><br />\n\n\t\t\t<div className=\"my-1 d-flex justify-content-center\">\n\t\t\t\t<button className=\"btn btn-outline-secondary\" onClick={login}><i className=\"fas fa-sign-in-alt\"></i> Î°úÍ∑∏Ïù∏</button>\n\t\t\t</div>\n\n\t\t</div>\n\t);\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}